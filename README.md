# Pagekit

[![Symfony](https://img.shields.io/badge/symfony-5.1.7-blue)](https://github.com/symfony/symfony)
[![Vue](https://img.shields.io/badge/vue-2.6.12-green)](https://github.com/vuejs/vue)
[![UIkit](https://img.shields.io/badge/uikit-3.5.8-blue)](https://github.com/uikit/uikit)
[![Build Status](https://travis-ci.org/uatrend/pagekit.svg?branch=develop)](https://travis-ci.org/uatrend/pagekit)
[![Discord](https://img.shields.io/badge/chat-on%20discord-7289da.svg)](https://discord.gg/e7Kw47E)

<table>
    <tbody>
        <tr>
            <td align="center">
                <a href="https://cloud.githubusercontent.com/assets/1716665/14317675/ba034b8c-fc09-11e5-81ed-f10f37d86ea5.png" rel="noopener noreferrer" target="_blank">
                    <img alt="Pagekit" src="https://cloud.githubusercontent.com/assets/1716665/14317675/ba034b8c-fc09-11e5-81ed-f10f37d86ea5.png" style="max-width:100%;" width="1604"/>
                </a>
            </td>
            <td align="center">
                <a href="https://user-images.githubusercontent.com/24713453/64491316-d56f5180-d280-11e9-91b7-68d309489ffe.png" rel="noopener noreferrer" target="_blank">
                    <img alt="Dashboard" src="https://user-images.githubusercontent.com/24713453/64491316-d56f5180-d280-11e9-91b7-68d309489ffe.png" style="max-width:100%;" width="1604"/>
                </a>
            </td>
            <td align="center">
                <a href="https://user-images.githubusercontent.com/24713453/95061078-9118e400-0714-11eb-8f6d-8577d7a85ae5.png" rel="noopener noreferrer" target="_blank">
                    <img alt="Pagekit home page" src="https://user-images.githubusercontent.com/24713453/95061078-9118e400-0714-11eb-8f6d-8577d7a85ae5.png" style="max-width:100%;" width="1604"/>
                </a>
            </td>
        </tr>
        <tr>
            <td align="center">
                <a href="https://user-images.githubusercontent.com/24713453/95016783-9de2fc80-066e-11eb-82f5-2f944cbe25bb.png" rel="noopener noreferrer" target="_blank">
                    <img alt="Installer languages" src="https://user-images.githubusercontent.com/24713453/95016783-9de2fc80-066e-11eb-82f5-2f944cbe25bb.png" style="max-width:100%;" width="1604"/>
                </a>
            </td>
            <td align="center">
                <a href="https://user-images.githubusercontent.com/24713453/95016785-9facc000-066e-11eb-8c2a-f991252fb377.png" rel="noopener noreferrer" target="_blank">
                    <img alt="Installer buttons option-back-next" src="https://user-images.githubusercontent.com/24713453/95016785-9facc000-066e-11eb-8c2a-f991252fb377.png" style="max-width:100%;" width="1604"/>
                </a>
            </td>
            <td align="center">
                <a href="https://user-images.githubusercontent.com/24713453/95016786-a1768380-066e-11eb-8250-a7a054fe09de.png" rel="noopener noreferrer" target="_blank">
                    <img alt="Installer select demo content" src="https://user-images.githubusercontent.com/24713453/95016786-a1768380-066e-11eb-8250-a7a054fe09de.png" style="max-width:100%;" width="1604"/>
                </a>
            </td>
        </tr>
        <tr>
            <td align="center">
                <a href="https://user-images.githubusercontent.com/24713453/95060613-f28c8300-0713-11eb-89ac-0586f3c6c743.png" rel="noopener noreferrer" target="_blank">
                    <img alt="Editor settings" src="https://user-images.githubusercontent.com/24713453/95060613-f28c8300-0713-11eb-89ac-0586f3c6c743.png" style="max-width:100%;" width="1604"/>
                </a>
            </td>
            <td align="center">
                <a href="https://user-images.githubusercontent.com/24713453/95016844-0631de00-066f-11eb-84b6-fd3b0a9a2720.gif" rel="noopener noreferrer" target="_blank">
                    <img alt="Storage" src="https://user-images.githubusercontent.com/24713453/95016844-0631de00-066f-11eb-84b6-fd3b0a9a2720.gif" style="max-width:100%;" width="1604"/>
                </a>
            </td>
            <td align="center">
                <a href="https://user-images.githubusercontent.com/24713453/95016845-08943800-066f-11eb-8d82-f4d5204d2450.png" rel="noopener noreferrer" target="_blank">
                    <img alt="Modal starage" src="https://user-images.githubusercontent.com/24713453/95016845-08943800-066f-11eb-8d82-f4d5204d2450.png" style="max-width:100%;" width="1604"/>
                </a>
            </td>
        </tr>
        <tr>
            <td align="center">
                <a href="https://user-images.githubusercontent.com/24713453/95016880-590b9580-066f-11eb-80d9-2af68d6e87f2.png" rel="noopener noreferrer" target="_blank">
                    <img alt="Page Edit" src="https://user-images.githubusercontent.com/24713453/95016880-590b9580-066f-11eb-80d9-2af68d6e87f2.png" style="max-width:100%;" width="1604"/>
                </a>
            </td>
            <td align="center">
                <a href="https://user-images.githubusercontent.com/24713453/95060907-557e1a00-0714-11eb-98e9-305e63d82819.png" rel="noopener noreferrer" target="_blank">
                    <img alt="Page theme settings" src="https://user-images.githubusercontent.com/24713453/95060907-557e1a00-0714-11eb-98e9-305e63d82819.png" style="max-width:100%;" width="1604"/>
                </a>
            </td>
            <td align="center">
                <a href="https://user-images.githubusercontent.com/24713453/95060769-249de500-0714-11eb-9e8d-8bddff02c892.png" rel="noopener noreferrer" target="_blank">
                    <img alt="Site theme settings" src="https://user-images.githubusercontent.com/24713453/95060769-249de500-0714-11eb-9e8d-8bddff02c892.png" style="max-width:100%;" width="1604"/>
                </a>
            </td>
        </tr>
        <tr>
            <td align="center">
                <a href="https://user-images.githubusercontent.com/24713453/95016701-172e1f80-066e-11eb-8da0-5f6d7e438615.png" rel="noopener noreferrer" target="_blank">
                    <img alt="Theme-one" src="https://user-images.githubusercontent.com/24713453/95016701-172e1f80-066e-11eb-8da0-5f6d7e438615.png" style="max-width:100%;" width="1604"/>
                </a>
            </td>
            <td align="center">
                <a href="https://user-images.githubusercontent.com/24713453/95016942-bf90b380-066f-11eb-9165-8a088c86e425.gif" rel="noopener noreferrer" target="_blank">
                    <img alt="Blog page" src="https://user-images.githubusercontent.com/24713453/95016942-bf90b380-066f-11eb-9165-8a088c86e425.gif" style="max-width:100%;" width="1604"/>
                </a>
            </td>
            <td align="center">
                <a href="https://user-images.githubusercontent.com/24713453/95016943-c28ba400-066f-11eb-8789-3b9f2957aee1.gif" rel="noopener noreferrer" target="_blank">
                    <img alt="Position page" src="https://user-images.githubusercontent.com/24713453/95016943-c28ba400-066f-11eb-8789-3b9f2957aee1.gif" style="max-width:100%;" width="1604"/>
                </a>
            </td>
        </tr>
    </tbody>
</table>

[Homepage](http://pagekit.com) - Official home page.

This is an updated build Pagekit CMS (for developers).

Build includes the following updated components:

- Pagekit CMS 1.0.18
- Blog extension
- [Admin theme](#theme)
- Theme One
- Demo content

Download the latest [build](https://github.com/uatrend/pagekit/releases) or [install from source](#install) before installation.  
The installation procedure is the same as in the official [documentation](https://pagekit.com/docs/getting-started/installation).

Marketplace functionality like install, update and remove works the same like in original version.
**Note!** Before enabling extensions, update them for compatibility. Debug mode and debug panel work the same as in the main version.

------

## Major changes:

- Required PHP Version - 7.4+
- Used UIkit 3 and Vue 2 frameworks
- Updated Symfony and Composer frameworks
- [Updated Composer dependencies](https://github.com/uatrend/pagekit/blob/develop/composer.json)
- [Updated Node dependencies](https://github.com/uatrend/pagekit/blob/develop/package.json)
- Updated PHP core components
- Updated Javascript core components

Removed jQuery from all scripts. UIkit functions are used instead. Several bugs that are present in the original assembly have been fixed, some styles have been changed for ease of use. The mobile version has remained the same with minor changes.

## <a name="install"></a>Install from source

You can [install Node dependencies, build the front-end components](#node) and run [scripts](#scripts) via [yarn](https://yarnpkg.com/).

Clone Repository

```
$ git clone git@github.com:uatrend/pagekit.git project-folder
$ cd project-folder
```

Install PHP dependencies

```
$ composer install
```

<a name="node"></a>Install Node dependencies

```
$ yarn install
```

## <a name="scripts"></a>Scripts

Javascript watch or compile:

```
$ yarn watch-js
$ yarn compile-js
```

To build in production mode:

```
$ yarn compile-js --mode=production
```

LESS watch or compile:

```
$ yarn watch-less
$ yarn compile-less
```

JS/LESS watch at the same time:

```
$ yarn watch-all
```

ESlint lint or watch ```*.js/*.vue``` files:

```
$ yarn lint
$ yarn lint-watch
```

CLDR locale data:

```
$ yarn cldr
```

Copying required assets:

```
$ yarn assets
```

## <a name="theme"></a>Admin theme

Theme is fully compatible with **UIkit 3**.
Reworked scripts, layout and colors. Added side and top menus with dropdowns. Removed unused styles.

For individual markup of each page, added a class page in the body tag automatically generated through PHP.

For example, body class for dashboard page looks like:

```html
<body class=“dashboard”>
```
and for system Settings:

```html
<body class=“system-settings”>
```

## Theme icons
```uikit-icons.js``` are now used for Pagekit icons. 

## Editor Settings

You can choose the default editor in the system settings: 	
- HTML Editor 
- Tinymce (with split mode option)
- Codemirror

Moved all editors dependencies to ```editor/assets``` folder.

## Theme Plugin

(added to core ```/app/system/app/lib/theme.js```)

Ability to programmatically configure the buttons, dropdown lists, pagination and search form in the top menu for each component used (see code).

Example: dashboard - ```index.js```

```javascript
name: 'dashboard',

mixins: [Theme.Mixins.Helper],

...

theme: {
    hideEls: '#dashboard > div:first-child > div:last-child',
    elements() {
        var vm = this;
        return {
            addwidget: {
                scope: 'topmenu-left',
                type: 'dropdown',
                caption: 'Add Widget',
                class: 'uk-button uk-button-text',
                icon: { attrs: { 'uk-icon': 'triangle-down' }},
                dropdown: { options: () => 'mode: click' },
                items: () => vm.getTypes().map((type) => {
                    let props = {
                        on: {click: () => vm.add(type)},
                        caption: type.label,
                        class: 'uk-dropdown-close'
                    }
                    return {...type, ...props}
                }),
            }
        }
    }
}
```

Adding side menu items through PHP - ```$view->$data()```

```php
'view.data' => function ($event, $data) use ($app) {
    if (!$app->isAdmin()) {
        return;
    }
    $data->add('Theme', [
        'SidebarItems' => [
            'additem' => [
                'addpost' => [
                    'caption' => 'Add Post',
                    'attrs' => [
                        'href' => $app['url']->get('admin/blog/post/edit')
                    ],
                    'priority' => 1
                ]
            ]
        ]
    ]);
}
```

------

Thanks to Yootheme and developers!  
Feel free to ask any questions - I will answer as much as possible.
